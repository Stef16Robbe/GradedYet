<?php
class DB_Helper
{
	private $Conn;
	
	function __construct() {
		$DBConnection = DBConnection::getInstance();
		$this->Conn = $DBConnection->getConnection();

		if ($this->Conn->connect_error) {
			die("Connection failed:" . $this->Conn->connect_error);
		}

		// switch off auto commit to allow transactions
		$this->Conn->autocommit(FALSE);
	}

	public function GetConn(){
		return $this->Conn;
	}

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//Select
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//Insert
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	public function RegisterUser($email, $password) {
		// clean email and password
		$cleanEmail = mysqli_real_escape_string($this->Conn, $email);
		$cleanPassword = mysqli_real_escape_string($this->Conn, $password);

		// does prepared query
		$stmt = $this->Conn->prepare("");
		$stmt->bind_param("ss", $cleanEmail, $cleanPassword);

		// commit or rollback transaction
		if ($stmt->execute()) {
			$this->Conn->commit();
			return true;
		} else {
			$this->Conn->rollback();
			return false;
		} 
	}

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//Update
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//Delete
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}
?>